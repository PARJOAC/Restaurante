<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contra Corriente â€“ Comanda Mesa</title>

    <!-- Estilos globales y especÃ­ficos del menÃº -->
    <link rel="stylesheet" href="/css/general.css" />
    <link rel="stylesheet" href="/css/generalCarta.css" />
  </head>
  <body>
    <!-- Encabezado con nombre del restaurante -->
    <header>
      <div class="logo">Contra Corriente â€“ Carta</div>
    </header

    <main>
      <section id="pedido">
        <!-- Contenedor donde se cargarÃ¡n los platos disponibles -->
        <div id="items-menu" class="menu-grid">
          <!-- Se llenarÃ¡ dinÃ¡micamente desde JS -->
        </div>

        <!-- Resumen del pedido con lista de platos y total -->
        <aside id="resumen-pedido">
          <ul id="lista-resumen"></ul>

          <!-- Pie del resumen con total y botÃ³n de enviar -->
          <div class="resumen-footer">
            <p>
              Total: <b><span id="total">0.00</span>â‚¬</b>
            </p>
            <!-- BotÃ³n para enviar comanda al servidor -->
            <button onclick="enviarComanda()">Enviar comanda</button>
          </div>
        </aside>
      </section>
    </main>

    <!-- Pie de pÃ¡gina de cortesÃ­a -->
    <footer>
      <p>Gracias por su visita ðŸ˜Š</p>
    </footer>

    <!-- Script de funcionalidad del pedido (platos, aÃ±adir, enviar, etc.) -->
    <script src="/mesa/comanda.js"></script>

    <!-- Script para obtener el nÃºmero de mesa desde la URL -->
    <script>
      // Obtener la ruta actual, por ejemplo /mesa3
      const path = window.location.pathname;

      // Extraer el nÃºmero de mesa de la ruta usando split (simple)
      const mesa = path.split("/")[1];

      // Guardar el nÃºmero de mesa en una variable global
      window.__mesa = mesa;

      // Cuando se cargue el contenido del DOM, iniciar carga de platos
      window.addEventListener("DOMContentLoaded", () => {
        cargarPlatos(); // funciÃ³n definida en /mesa/comanda.js
      });
    </script>
  </body>
</html>
